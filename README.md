# napcat-plugin-groupguard

NapCat 群管插件 - 入群验证 / 防撤回 / 违禁词 / 黑白名单 / 问答系统

## 功能特性

- 🛡️ 入群自动审批 + 数学验证（可配置难度/超时/次数）
- 🚫 违禁词过滤（撤回/禁言/踢出/拉黑 四级惩罚）
- 📝 防撤回（群内转发 + 私聊通知主人）
- 🎯 针对用户自动撤回
- 🔒 名片锁定
- 📊 成员活跃统计
- 🤖 自动问答（精确/模糊/正则匹配）
- 💬 刷屏检测 + 自动禁言
- 📵 消息类型过滤（视频/图片/语音/转发/小程序/名片/链接）
- 😀 回应表情
- ⚫ 全局黑名单 + 群独立黑名单
- ⚪ 白名单豁免
- 🚪 退群自动拉黑
- 🎛️ WebUI 可视化配置面板（支持全局/分群独立配置 + 预设模板）

## 指令列表

### 🛡️ 群管功能（管理员权限）

| 指令 | 说明 |
|------|------|
| `群管帮助` | 显示完整帮助菜单 |
| `踢出@某人` / `踢出QQ号` | 踢出成员 |
| `禁言@某人 分钟` / `禁言QQ号 分钟` | 禁言成员 |
| `解禁@某人` / `解禁QQ号` | 解除禁言 |
| `全体禁言` | 开启全体禁言 |
| `全体解禁` | 关闭全体禁言 |
| `授予头衔@某人 内容` | 设置专属头衔（群主） |
| `清除头衔@某人` | 清除专属头衔（群主） |
| `锁定名片@某人` | 锁定群名片 |
| `解锁名片@某人` | 解锁群名片 |
| `名片锁定列表` | 查看锁定列表 |

### 🎯 针对功能（管理员权限）

| 指令 | 说明 |
|------|------|
| `针对@某人` / `针对QQ号` | 自动撤回该用户消息 |
| `取消针对@某人` / `取消针对QQ号` | 取消针对 |
| `针对列表` | 查看当前群针对列表 |
| `清除针对` | 清除所有针对 |

### ⚫ 黑白名单功能（主人权限）

| 指令 | 说明 |
|------|------|
| `拉黑@某人` / `拉黑QQ号` | 加入全局黑名单 |
| `取消拉黑@某人` / `取消拉黑QQ号` | 移出全局黑名单 |
| `黑名单列表` | 查看全局黑名单 |
| `群拉黑@某人` / `群拉黑QQ号` | 加入本群黑名单 |
| `群取消拉黑@某人` / `群取消拉黑QQ号` | 移出本群黑名单 |
| `群黑名单列表` | 查看本群黑名单 |
| `白名单@某人` / `白名单QQ号` | 加入白名单（豁免所有检查） |
| `取消白名单@某人` / `取消白名单QQ号` | 移出白名单 |
| `白名单列表` | 查看白名单 |

### 🚫 违禁词功能（主人权限）

| 指令 | 说明 |
|------|------|
| `添加违禁词 词语` | 添加违禁词 |
| `删除违禁词 词语` | 删除违禁词 |
| `违禁词列表` | 查看违禁词列表 |

> 惩罚等级：1=撤回 2=撤回+禁言 3=撤回+禁言+踢出 4=撤回+禁言+踢出+拉黑

### 🤖 问答功能（管理员权限）

| 指令 | 说明 |
|------|------|
| `添加问答 关键词\|回复` | 添加精确匹配问答 |
| `添加模糊问答 关键词\|回复` | 添加包含匹配问答 |
| `添加正则问答 正则\|回复` | 添加正则匹配问答 |
| `删除问答 关键词` | 删除指定问答 |
| `问答列表` | 查看当前问答列表 |

> 回复支持变量：`{user}` = QQ号，`{group}` = 群号

### 📝 防撤回功能（管理员权限）

| 指令 | 说明 |
|------|------|
| `开启防撤回` | 当前群开启防撤回 |
| `关闭防撤回` | 当前群关闭防撤回 |
| `防撤回列表` | 查看已开启的群 |

### 😀 回应表情功能（管理员权限）

| 指令 | 说明 |
|------|------|
| `开启回应表情` | 当前群开启 |
| `关闭回应表情` | 当前群关闭 |

## WebUI 配置面板

插件内置可视化配置面板，支持：

- 全局默认配置 / 分群独立配置
- 预设配置模板（一键应用到指定群）
- 问答管理（在线增删）
- 验证会话实时监控
- 成员活跃统计
- 调试日志查看
- 深色模式自适应

## 交流群

631348711
